<!DOCTYPE html>
<html>
    <head> 
        <meta charset="utf-8">
        <!--meta http-equiv="refresh" content="2"--><!--每秒刷新页面-->
        <title>模板 | Truraly'Blog</title> <!--记得修改标题-->
        <link rel="shortcut icon" href="../02s2t.png"  >
        <meta name="keywords" content="博客 归档 Truraly">
        <meta name="author" content="Truraly">
        <link rel="stylesheet" type="text/css" href="../css_js/CSS_for_archives.css">
 
    </head>
    <body class="Back">
        <!--tital-->
        <div class="head" >
            <div style="margin-left:30%;">
                <a href="../home.html">Home</a> <h2>&nbsp; &nbsp;</h2><a href="../archives.html">Archives</a>
            </div>
        </div>
        <!--tital over-->
        <div style="margin-top:10%;width: 100%;"></div><!--占位-->
        <div class="Tyblog">
            <p>Truraly'Blog</p>
        </div>
        <div class="arch">
            <!--插入正文-->
            <h1 id='css样式缓存不更新'>CSS样式缓存不更新</h1>

            <div class="hrline"></div><!--供使用的水平线-->

            <p><strong>问题阐述：</strong></p>
            <p>css样式不能及时更新</p>
            <p>样式引用方式如下</p>
            <pre><code class='language-html' lang='html'>&lt;link rel=&quot;stylesheet&quot; id=&quot;link&quot; href=&quot;css_js/mycss.css&quot;&gt;
            </code></pre>
            <p><strong>解决方法：</strong></p>
            <p>头部添加</p>
            <pre><code class='language-html' lang='html'> &lt;!--删除缓存--&gt;
             &lt;META HTTP-EQUIV=&quot;pragma&quot;CONTENT=&quot;no-cache&quot;&gt;
             &lt;META HTTP-EQUIV=&quot;Cache-Control&quot;CONTENT=&quot;no-cache,must-revalidate&quot;&gt;
             &lt;META HTTP-EQUIV=&quot;expires&quot;CONTENT=&quot;0&quot;&gt;
            </code></pre>
            <p><strong>衍生问题：</strong></p>
            <p>谷歌浏览器无视标签强制缓存</p>
            <p><strong>解决方法：（丐版，非完美方案）</strong></p>
            <pre><code class='language-html' lang='html'> &lt;link rel=&quot;stylesheet&quot; id=&quot;link&quot; href=&quot;css_js/mycss.css?1243&quot;&gt;
            </code></pre>
            <p>在修改样式后再链接后添加“?“+任意数字</p>
            <p><strong>原理：</strong></p>
            <p>在问号后添加数字不影响访问位置，但会让浏览器觉得是不同的地址，于是会更新缓存</p>
            <p><strong>2022.4.23补充：</strong></p>
            <p>谷歌浏览器使用Shift+Ctrl+R强制刷新缓存</p>
            <p><strong>2022.4.25补充：</strong></p>
            <p>使用ajax获取文件数据可用这种办法</p>
            <pre><code class='language-html' lang='html'> 
                xmlhttp.open("GET","beforejson/"+date_+".json?t="+ Math.random(),true);
            </code></pre>

            
            <p>&nbsp;</p>

            <!--正文截止-->
        </div>
        <!--底部-->
        <div class="ICP">
            <p >浙ICP备2021038778号</p>
        </div>
        
    </body>
</html>

